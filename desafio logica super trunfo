#include <stdio.h>
#include <string.h>

// ==============================
// Estrutura da carta
// ==============================
typedef struct {
    char estado[30];           // Nome do estado / país
    char codigo;               // Código (não usado na comparação)
    char cidade[30];           // Cidade principal
    int populacao;             // População
    float area;                // Área em km²
    float pib;                 // PIB
    int pontosTuristicos;      // Número de pontos turísticos
    float densidadeDemografica;// Calculada automaticamente
} Carta;

// ==============================
// Função para imprimir cabeçalho
// ==============================
void imprimirCabecalho(const char *titulo) {
    printf("========================================\n");
    printf("%s\n", titulo);
    printf("========================================\n");
}

// ==============================
// Função principal
// ==============================
int main() {

    // ---- Cadastro das cartas ----
    // Dados do trabalho anterior
    Carta carta1 = {"Paraná", 'P', "Curitiba", 1948626, 435.0f, 98.0f, 30, 0.0f};
    Carta carta2 = {"São Paulo", 'C', "Campinas", 1139047, 795.7f, 72.9f, 20, 0.0f};

    // ---- Cálculo da densidade demográfica (habitantes por km²) ----
    carta1.densidadeDemografica = (float)carta1.populacao / carta1.area;
    carta2.densidadeDemografica = (float)carta2.populacao / carta2.area;

    // ---- Menu de comparação ----
    int opcao = 0;
    imprimirCabecalho("MENU DE COMPARAÇÃO - Desafio lógica super trunfo");
    printf("1 - População (maior vence)\n");
    printf("2 - Área (maior vence)\n");
    printf("3 - PIB (maior vence)\n");
    printf("4 - Pontos Turísticos (maior vence)\n");
    printf("5 - Densidade Demográfica (MENOR vence)\n");
    printf("Escolha o atributo para comparar (1-5): ");
    
    if (scanf("%d", &opcao) != 1) {
        printf("Entrada inválida. Saindo.\n");
        return 1;
    }

    printf("\nComparando: %s x %s\n", carta1.estado, carta2.estado);

    // ---- Lógica de comparação ----
    switch(opcao) {
        case 1: { // População
            printf("Atributo: População\n");
            printf("%s: %d\n", carta1.estado, carta1.populacao);
            printf("%s: %d\n", carta2.estado, carta2.populacao);

            if (carta1.populacao > carta2.populacao) printf("Resultado: %s venceu!\n", carta1.estado);
            else if (carta1.populacao < carta2.populacao) printf("Resultado: %s venceu!\n", carta2.estado);
            else printf("Empate!\n");
            break;
        }
        case 2: { // Área
            printf("Atributo: Área (km²)\n");
            printf("%s: %.2f km²\n", carta1.estado, carta1.area);
            printf("%s: %.2f km²\n", carta2.estado, carta2.area);

            if (carta1.area > carta2.area) printf("Resultado: %s venceu!\n", carta1.estado);
            else if (carta1.area < carta2.area) printf("Resultado: %s venceu!\n", carta2.estado);
            else printf("Empate!\n");
            break;
        }
        case 3: { // PIB
            printf("Atributo: PIB\n");
            printf("%s: %.2f\n", carta1.estado, carta1.pib);
            printf("%s: %.2f\n", carta2.estado, carta2.pib);

            if (carta1.pib > carta2.pib) printf("Resultado: %s venceu!\n", carta1.estado);
            else if (carta1.pib < carta2.pib) printf("Resultado: %s venceu!\n", carta2.estado);
            else printf("Empate!\n");
            break;
        }
        case 4: { // Pontos Turísticos
            printf("Atributo: Pontos Turísticos\n");
            printf("%s: %d\n", carta1.estado, carta1.pontosTuristicos);
            printf("%s: %d\n", carta2.estado, carta2.pontosTuristicos);

            if (carta1.pontosTuristicos > carta2.pontosTuristicos) printf("Resultado: %s venceu!\n", carta1.estado);
            else if (carta1.pontosTuristicos < carta2.pontosTuristicos) printf("Resultado: %s venceu!\n", carta2.estado);
            else printf("Empate!\n");
            break;
        }
        case 5: { // Densidade Demográfica (MENOR vence)
            printf("Atributo: Densidade Demográfica (hab/km²) - MENOR vence\n");
            printf("%s: %.2f hab/km²\n", carta1.estado, carta1.densidadeDemografica);
            printf("%s: %.2f hab/km²\n", carta2.estado, carta2.densidadeDemografica);

            // Decisão aninhada exemplo
            if (carta1.densidadeDemografica < carta2.densidadeDemografica) {
                if (carta1.densidadeDemografica < 100.0f)
                    printf("OBS: %s tem densidade muito baixa.\n", carta1.estado);
                printf("Resultado: %s venceu!\n", carta1.estado);
            } else if (carta1.densidadeDemografica > carta2.densidadeDemografica) {
                if (carta2.densidadeDemografica < 100.0f)
                    printf("OBS: %s tem densidade muito baixa.\n", carta2.estado);
                printf("Resultado: %s venceu!\n", carta2.estado);
            } else {
                printf("Empate!\n");
            }
            break;
        }
        default:
            printf("Opção inválida! Tente novamente.\n");
    }

    return 0;
}